## fetch()는 왜 await가 꼭 필요한가?

### 질문 요약

서버에서는 이미지 리스트(List<String>)를 한 번에 JSON으로 응답하는데,

클라이언트에서 fetch()로 받아올 때 **굳이 await가 필요한 이유는?**

---

### 결론

**await는 반드시 필요하다.**

fetch()는 **비동기 네트워크 요청**이므로,

서버 응답을 받기 전까지 기다리지 않으면 다음 코드가 먼저 실행되어 오류가 발생할 수 있다.

---

### 이유 상세 정리

| 구분 | 설명 |
| --- | --- |
| fetch(...) | 네트워크 요청을 비동기로 보냄 → 결과가 도착하기 전에도 다음 코드 실행됨 |
| await fetch(...) | 응답이 도착할 때까지 기다려줌 |
| response.json() | JSON 파싱도 비동기 → **await 또 필요** |
| 응답이 리스트 하나든 많든 | 클라이언트 입장에선 무조건 비동기 처리를 기다려야 안전 |

---

### await 없이 쓰면 생기는 문제

```jsx
const response = fetch("/output/getFileNm.do");
const imageList = response.json(); 
```

결과적으로 imageList는 **undefined**거나,

.then() 체이닝을 강제로 써야 해서 코드가 복잡해짐.

---

### 올바른 사용 예시

```jsx
const response = await fetch("/output/getFileNm.do");
const imageList = await response.json();
```

---

### 보너스 팁: Java와 JS 차이

| Java | JavaScript |
| --- | --- |
| List<String> 리턴 | **동기 방식**, 즉시 결과 제공 |
| fetch() 호출 | **비동기 방식**, 결과 도착을 기다려야 함 (await or .then() 필요) |
